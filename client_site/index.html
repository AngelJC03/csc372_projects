<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Davis Tennon Foundation</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap-grid.min.css" rel="stylesheet"> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap-reboot.min.css" rel="stylesheet"> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/main.js"></script>
</head>
<body>
    <section class="banner">
        <div class="banner-container">
            <!-- Burger Menu -->
            <div class="burger">
                <img src="images/menu.png" alt="Menu" class="menu-icon">
                <div class="burger-menu-content" id="burger-menu-content">
                    <a href="pages/about-viola-and-julius.html">About Viola and Julius</a>
                    <a href="pages/in-the-news.html">In The News</a>
                    <a href="pages/foundation-staff.html">Foundation Staff</a>
                    <a href="pages/what-we-fund.html">What We Fund</a>
                    <a href="pages/board-members.html">Board Members</a>
                    <a href="pages/partners.html">Partners/Resources</a>
                </div>
            </div>
            
            <!-- Logo and Donate Button -->
            <a href="index.html">
                <img src="images/logo-photos/clear-background-dtf-logo.png" alt="Image" width="500" height="155">
            </a>
        </div>
    </section>
    
    <header>
        <div class="orangebar">
            <div class="orange-container">
            </div>
        </div>
        
        <!-- Bootstrap Navbar -->
        <div class="navbar-container">
            <nav class="navbar navbar-expand-lg navbar-light bg-warning">
                <div class="container justify-content-center">
                    
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav d-flex justify-content-center">
                            <li class="nav-item"><a class="nav-link" href="pages/about-viola-and-julius.html">About Viola and Julius</a></li>
                            <li class="nav-item"><a class="nav-link" href="pages/in-the-news.html">In The News</a></li>
                            <li class="nav-item"><a class="nav-link" href="pages/foundation-staff.html">Foundation Staff</a></li>
                            <li class="nav-item"><a class="nav-link" href="pages/what-we-fund.html">What We Fund</a></li>
                            <li class="nav-item"><a class="nav-link" href="pages/board-members.html">Board Members</a></li>
                            <li class="nav-item"><a class="nav-link" href="pages/partners.html">Partners/Resources</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <script>
        $(document).ready(function() {
            // Burger Menu Toggle
            $(".burger img").click(function(event) {
                var menu = $("#burger-menu-content");
                
                // Toggle the menu visibility
                if (menu.is(":visible")) {
                    menu.hide(); // Hide the menu if it's already visible
                } else {
                    menu.show(); // Show the menu if it's hidden
                }
        
                event.stopPropagation(); // Prevent event from bubbling up and triggering the document click
            });
        
            // Close the burger menu when clicking outside of it
            $(document).click(function(event) {
                var menu = $("#burger-menu-content");
                var burger = $(".burger"); // Burger icon (menu button)
        
                // Check if the click was outside the menu or burger icon
                if (!burger.is(event.target) && !burger.has(event.target).length && !menu.is(event.target) && !menu.has(event.target).length) {
                    menu.hide(); // Hide the menu if clicked outside
                }
            });
        });
    </script>
    
    
    
    <div class="hero fade-in" style="--delay: .1s;">
        <img src="images/home-page-photos/hero_photo2.jpg" alt="Image">
        <h1>
            “The birth of the Davis/Tennon Foundation 
            <br> started with the realization that the 
            <br>gift of success is the ability to give back,”
            <br> - Viola Davis
        </h1>
    </div>
    
    <section class="cta-banner fade-in" style="--delay: .2s;">
        <div class="cta-container">
            <a href="pages/what-we-fund.html" class="fundingCTA">What We Fund</a>
            <a href="pages/foundation-staff.html" class="principlesCTA">Foundation Staff</a>
        </div>
    </section>
    
    <div class="decorative-banner fade-in">
        <div class="image-container">
            <img src="images/logo-photos/repeated-logo.jpg" alt="Image">
        </div>
        <div class="button-container">
            <h1>Contribute to the Davis Tennon Foundation Today!</h1>
        </div>
    </div>
    

    <div class="news fade-in">
        <h2>The goal of my clients web page is to showcase and inform viewers of the Davis Tennon Foundation.
        The Davis Tennon Foundation focuses on empowering women, preventing domestic abuse,
        encouraging economic development, and creating a safe space for our youth during out of school time.
        On this website, you can find all the relevant information, find application links for joining the foundation,
        sending donations, and contacting the foundation staff. </h2><br><br>

        <h2>Recent Articles</h2>
        <div class="divider"></div>
        <div class="container" id="data-container"></div>
    </div>
    
    <footer class="bg-dark text-light py-4">
        <div class="container">
            <div class="row align-items-center text-center text-lg-start">
                
                <!-- Left Section: Contact Info -->
                <div class="col-12 text-center">
                    <h5 class="text-uppercase">Author Details:</h5>
                    <p><a href="mailto:Angel_castano08@uri.edu" class="text-light text-decoration-none">Angel_castano08@uri.edu</a></p>
                </div>
    
                <!-- Middle Section: Logo & Navigation -->
                <div class="col-12 text-center">
                    <a href="index.html">
                        <img src="images/logo-photos/dtf-logo.png" alt="DTF Logo" class="footer-logo img-fluid" style="max-width: 120px;">
                    </a>
                    <ul class="list-inline mt-2">
                        <li class="list-inline-item"><a href="pages/in-the-news.html" class="text-light text-decoration-none">In The News</a></li>
                        <li class="list-inline-item"><a href="pages/foundation-staff.html" class="text-light text-decoration-none">Foundation Staff</a></li>
                        <li class="list-inline-item"><a href="pages/what-we-fund.html" class="text-light text-decoration-none">What We Fund</a></li>
                    </ul>
                </div>
    
            </div>
        </div>
    </footer>


    <!--------CODE MUST BE ON HOMEPAGE BECAUSE THERE ARE FUNCTIONS IN THE JAVASCRIPT FILE TO LOAD ARTICLES IN ANOTHER PAGE (IN THE NEWS)------>
    <script>
        async function fetchData() {
            const url = "https://script.google.com/macros/s/AKfycbz__jHa1zKYb7d6_sewmCKt-NwOwdPfvleIhTovtsJ2l7uc-ynw1O_Ofc6vgy8CsMJRyQ/exec";
        
            try {
                const response = await fetch(url);
                const data = await response.json();
                const container = document.getElementById("data-container");
                container.innerHTML = ""; 
        
                const firstThreeRows = data.slice(1, 4); // Ignora la primera fila (encabezados)
        
                firstThreeRows.forEach(row => {
                    let rawDate = row[0]; 
                    const title = row[1];
                    const description = row[2];
                    const imageUrl = row[4] || "https://via.placeholder.com/100"; 
        
                    // Verifica si la fecha está en formato ISO y la convierte
                    let formattedDate;
                    if (rawDate.includes("T")) {
                        const dateObj = new Date(rawDate);
                        formattedDate = dateObj.toLocaleDateString("en-US", {
                            year: "numeric",
                            month: "long",
                            day: "numeric"
                        });
                    } else {
                        formattedDate = rawDate; // Si ya está en el formato correcto, se mantiene igual
                    }
        
                    const truncatedDescription = description.length > 100
                        ? `${description.substring(0, 100)}... <span class="read-more"> <br><br> <a href="pages/in-the-news.html">See more...</a> <br></span>`
                        : description;
        
                    const rowDiv = document.createElement("div");
                    rowDiv.classList.add("row");
        
                    rowDiv.innerHTML = `
                        <div class="image">
                            <img src="${imageUrl}" alt="Article Image">
                        </div>
                        <div class="content">
                            <div class="date">${formattedDate}</div>
                            <div class="title"><a href="pages/in-the-news.html">${title}</a></div>
                            <div class="description">${truncatedDescription}</div>
                        </div>
                    `;
        
                    container.appendChild(rowDiv);
                });
            } catch (error) {
                console.error("Error fetching data:", error);
                document.getElementById("data-container").innerHTML = "<p>Error loading data. (Refresh)</p>";
            }
        }
        
        fetchData();   
    </script>
    
    
    <script src="js/main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>